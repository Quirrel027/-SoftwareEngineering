# 🛍️ 電子商城購物平臺（E-Commerce Shopping Platform）

本專案為一套 全功能電子商城購物系統，使用 C#、ASP.NET Core Web API 與 MySQL 建置，提供商品瀏覽、購物車、訂單管理、金流支付與後台庫存管理等完整功能。 系統採用 前後端分離 與 多層式架構（Layered Architecture），確保在高併發環境下的穩定性，並具備易於維護、測試與後續擴充的特性。


## 系統介紹

- **前後端分離**：RESTful API 設計，支援 Web、行動 App 與桌面端介接。
- **分層架構**：職責分明（Controller / Service / Repository），符合 SOLID 原則。
- **完整購物流程**：涵蓋搜尋、加入購物車、優惠券應用、結帳與訂單追蹤。
- **事務一致性**：使用 Entity Framework Core 交易機制確保庫存扣減與訂單建立的原子性（Atomicity）。
- **權限控管**：區分消費者（會員）、商家（供應商）與系統管理員。
    
##  主要功能

### 👤 1. 會員中心 (Member)
- **註冊 / 登入**：使用 JWT Token 驗證機制。
- **個人資料管理**：修改基本資料、維護地址簿。
- **訂單追蹤**：查詢歷史訂單與即時狀態追蹤。

### 📦 2. 商品與庫存 (Product)
- **商品管理**：商品上架、下架與資訊編輯。
- **分類管理**：支援多層級分類 (Category)。
- **搜尋功能**：關鍵字搜尋與進階篩選（價格範圍、熱銷度）。
- **庫存機制**：庫存不足預警與下單自動扣減。

### 🛒 3. 購物車與交易 (Cart & Checkout)
- **購物車操作**：加入購物車、修改購買數量、移除商品。
- **結帳流程**：
  1. 確認訂單資訊（配送地址、發票）。
  2. 選擇付款方式。
  3. 鎖定庫存（防止超賣）。
  4. 產生訂單。

### 💳 4. 金流支付 (Payment)
- **第三方串接**：支援 ECPay (綠界) / Stripe / 藍新金流。
- **回調處理**：接收 Webhook 通知，自動更新訂單狀態為「已付款」。
- **安全驗證**：實作檢查碼 (CheckMacValue) 或簽章驗證。

### ⚙️ 5. 後台管理 (Admin)
- **銷售儀表板**：即時查看今日訂單數、總營收數據。
- **報表中心**：導出月營收報表、熱銷商品排行。
- **操作日誌**：記錄管理員的敏感操作行為 (Audit Log)。

    
## 系統架構圖
<img width="1646" height="827" alt="圖片" src="https://github.com/user-attachments/assets/55326a5b-4550-42b0-bf54-dfe79d030cc2" />

🔍 關聯說明
- **User ⇄ Cart (1:1)**：每個會員擁有一台專屬的購物車。

- **Cart ⇄ Product (M:N)**：透過 CartItem 關聯表，記錄購物車內有哪些商品及其數量。
 
- **Product ⇄ Inventory (1:1)**：將商品資訊（價格、描述）與庫存數量（變動頻繁）分開，避免鎖表競爭，也方便管理預警值。

- **Order ⇄ OrderItem (1:N)**：一張訂單包含多項商品明細。OrderItem 通常會記錄「下單時的價格 (UnitPrice)」，防止未來商品漲價影響歷史訂單金額。

- **Order ⇄ Payment (1:N)**：訂單與支付紀錄為一對多，這設計是為了容許「付款失敗後重試」或「分批付款」的情況，每一筆嘗試都會產生一條支付紀錄。

## 資料庫ERmodel
<img width="1449" height="904" alt="圖片" src="https://github.com/user-attachments/assets/8e4abd82-c278-43af-aad5-7e4c723bc29c" />

🚀 未來擴充方向


🔐 強化資安與身分驗證機制

- 導入 OAuth 2.0 或 OpenID Connect

- 支援第三方登入（Google、Facebook 等）

- 增加雙因素驗證（2FA）以提升帳號安全性
